(this.webpackJsonpstreamerspel=this.webpackJsonpstreamerspel||[]).push([[0],{21:function(e,t,a){e.exports=a(44)},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),i=a.n(s),o=a(3),c=a(4),l=a(6),m=a(5),u=a(7),p=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 bg-primary text-white py-2"},r.a.createElement("img",{src:"images.jpg",alt:"Streamer",width:"300",className:"float-left mx-1"}),r.a.createElement("h1",null,"Streamers Pelotas"),r.a.createElement("h4",null,"Registro de Streamers"))))}}]),t}(n.Component),d=a(2),v=a.n(d),h=a(8),f=a(19),b=a(20),g=a.n(b).a.create({baseURL:"http://streamerspel.000webhostapp.com/"}),E=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={nome:"",link:"",foto:"",reg:"",aviso:""},a.limpar=function(){a.setState(a.initialState)},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.habilitarCamera=Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=3;break}return e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=document.getElementById("video");t.style.visibility="visible",t.srcObject=e,t.onloadedmetadata=function(e){t.play()}})).catch((function(e){console.log(e.name+": "+e.message)}));case 3:case"end":return e.stop()}}),e)}))),a.capturarFoto=function(){var e=document.getElementById("canvas"),t=document.getElementById("video");e.getContext("2d").drawImage(t,0,0,320,240),t.pause(),t.style.visibility="hidden",a.setState({foto:e.toDataURL("image/png")})},a.handleSubmit=function(){var e=Object(h.a)(v.a.mark((function e(t){var n,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a.state.nome&&""!==a.state.link&&""!==a.state.foto){e.next=5;break}return a.setState({aviso:"Por favor, preencha nome, link da plataforma de stream e foto"}),a.tempoAviso(),e.abrupt("return");case 5:return(n=new FormData).append("nome",a.state.nome),n.append("link",a.state.link),n.append("foto",a.state.foto),r={headers:{"content-type":"multipart/form-data"}},e.prev=10,e.next=13,g.post("inc_streamer.php",n,r);case 13:s=e.sent,a.limpar(),a.setState({reg:s}),a.setState({aviso:"Ok! Streamer cadastrado com sucesso"}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),a.setState({aviso:"Erro... Streamer n\xe3o cadastrado: ".concat(e.t0)});case 22:a.tempoAviso();case 23:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(t){return e.apply(this,arguments)}}(),a.tempoAviso=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setTimeout((function(){a.setState({aviso:""})}),e)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.initialState=this.state}},{key:"render",value:function(){return r.a.createElement("form",{className:"mx-4 mt-3",onSubmit:this.handleSubmit,encType:"multipart/form-data"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nome"},"Nome do Streamer:"),r.a.createElement("input",{type:"text",className:"form-control",autoFocus:!0,name:"nome",id:"nome",onChange:this.handleChange,value:this.state.nome})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"link"},"Link da plataforma de stream:"),r.a.createElement("input",{type:"text",className:"form-control",name:"link",id:"link",onChange:this.handleChange,value:this.state.link})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"reset",className:"btn btn-success btn-block mt-1",onClick:this.habilitarCamera,value:"Habilitar C\xe2mera"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"reset",className:"btn btn-danger btn-block mt-1",onClick:this.limpar,value:"Limpar"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-1",value:"Gravar"}))),""!==this.state.aviso?r.a.createElement("div",{className:"alert alert-info mt-4"},this.state.aviso):""),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("video",{id:"video",width:"320",height:"240"}),r.a.createElement("canvas",{id:"canvas",width:"320",height:"240"}),r.a.createElement("input",{type:"button",className:"btn btn-danger float-right mt-3 px-5",onClick:this.capturarFoto,value:"Capturar Foto"}))))}}]),t}(n.Component);var k=function(){return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(E,null))};i.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.cbca48ea.chunk.js.map