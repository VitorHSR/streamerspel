{"version":3,"sources":["Header.js","Conecta.js","Registro.js","App.js","index.js"],"names":["Header","className","src","alt","width","Component","Conecta","axios","create","baseURL","Registro","state","nome","link","foto","reg","aviso","limpar","setState","initialState","handleChange","e","target","name","value","habilitarCamera","a","navigator","mediaDevices","getUserMedia","video","then","mediaStream","document","getElementById","style","visibility","srcObject","onloadedmetadata","play","catch","err","console","log","message","capturarFoto","canvas","getContext","drawImage","pause","toDataURL","handleSubmit","preventDefault","tempoAviso","formData","FormData","append","config","headers","post","tempo","setTimeout","this","onSubmit","encType","htmlFor","type","autoFocus","id","onChange","onClick","height","App","ReactDOM","render"],"mappings":"gOAEqBA,E,iLAEjB,OACE,yBAAKC,UAAU,mBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,wCACb,yBAAKC,IAAI,aAAaC,IAAI,WAAWC,MAAM,MAAMH,UAAU,oBAC3D,iDACA,4D,GARwBI,a,uCCErBC,E,OAFCC,EAAMC,OAAO,CAACC,QAAS,2CCClBC,E,2MACnBC,MAAQ,CACNC,KAAM,GACNC,KAAM,GACNC,KAAM,GACNC,IAAK,GACLC,MAAO,I,EAOTC,OAAS,WACP,EAAKC,SAAS,EAAKC,e,EAGrBC,aAAe,SAAAC,GACb,EAAKH,SAAL,eAAiBG,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,S,EAG5CC,gB,sBAAkB,sBAAAC,EAAA,0DAEZC,UAAUC,eAAgBD,UAAUC,aAAaC,aAFrC,gCAIRF,UAAUC,aAAaC,aAAa,CAAEC,OAAO,IAChDC,MAAK,SAAUC,GACd,IAAIF,EAAQG,SAASC,eAAe,SACpCJ,EAAMK,MAAMC,WAAa,UACzBN,EAAMO,UAAYL,EAClBF,EAAMQ,iBAAmB,SAAUjB,GACjCS,EAAMS,WAGTC,OAAM,SAAUC,GAAOC,QAAQC,IAAIF,EAAIlB,KAAO,KAAOkB,EAAIG,YAb9C,2C,EAiBlBC,aAAe,WACb,IAAIC,EAASb,SAASC,eAAe,UACjCJ,EAAQG,SAASC,eAAe,SAEtBY,EAAOC,WAAW,MAExBC,UAAUlB,EAAO,EAAG,EAAG,IAAK,KAEpCA,EAAMmB,QACNnB,EAAMK,MAAMC,WAAa,SAEzB,EAAKlB,SAAS,CAAEJ,KAAMgC,EAAOI,UAAU,gB,EAGzCC,a,uCAAe,WAAO9B,GAAP,mBAAAK,EAAA,yDACbL,EAAE+B,iBAEsB,KAApB,EAAKzC,MAAMC,MAAmC,KAApB,EAAKD,MAAME,MAAmC,KAApB,EAAKF,MAAMG,KAHtD,uBAIX,EAAKI,SAAS,CAAEF,MAAO,kEACvB,EAAKqC,aALM,iCASPC,EAAW,IAAIC,UACZC,OAAO,OAAO,EAAK7C,MAAMC,MAClC0C,EAASE,OAAO,OAAO,EAAK7C,MAAME,MAClCyC,EAASE,OAAO,OAAO,EAAK7C,MAAMG,MAE5B2C,EAAS,CACXC,QAAS,CACL,eAAgB,wBAhBX,oBAqBOpD,EAAQqD,KAAK,mBAAoBL,EAAUG,GArBlD,QAqBL1C,EArBK,OAsBX,EAAKE,SACL,EAAKC,SAAS,CAACH,QACf,EAAKG,SAAS,CAAEF,MAAM,wCAxBX,mDA0BX,EAAKE,SAAS,CAAEF,MAAM,uCAAD,eA1BV,QA6Bb,EAAKqC,aA7BQ,2D,wDAgCfA,WAAa,WAAmB,IAAlBO,EAAiB,uDAAT,IACpBC,YAAW,WACT,EAAK3C,SAAS,CAAEF,MAAO,OACtB4C,I,mFA7EHE,KAAK3C,aAAe2C,KAAKnD,Q,+BAiFzB,OACE,0BAAMV,UAAU,YAAY8D,SAAUD,KAAKX,aAAca,QAAQ,uBAC/D,yBAAK/D,UAAU,OACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,2BAAOgE,QAAQ,QAAf,qBACA,2BAAOC,KAAK,OAAOjE,UAAU,eAAekE,WAAS,EACnD5C,KAAK,OAAO6C,GAAG,OACfC,SAAUP,KAAK1C,aACfI,MAAOsC,KAAKnD,MAAMC,QAEtB,yBAAKX,UAAU,cACb,2BAAOgE,QAAQ,QAAf,iCACA,2BAAOC,KAAK,OAAOjE,UAAU,eAC3BsB,KAAK,OAAO6C,GAAG,OACfC,SAAUP,KAAK1C,aACfI,MAAOsC,KAAKnD,MAAME,QAEtB,yBAAKZ,UAAU,OACb,yBAAKA,UAAU,YACb,2BAAOiE,KAAK,QAAQjE,UAAU,iCAC5BqE,QAASR,KAAKrC,gBAAiBD,MAAM,yBAEzC,yBAAKvB,UAAU,YACb,2BAAOiE,KAAK,QAAQjE,UAAU,gCAC5BqE,QAASR,KAAK7C,OAAQO,MAAM,YAEhC,yBAAKvB,UAAU,YACb,2BAAOiE,KAAK,SAASjE,UAAU,iCAC7BuB,MAAM,aAGU,KAArBsC,KAAKnD,MAAMK,MACZ,yBAAKf,UAAU,yBACZ6D,KAAKnD,MAAMK,OAEZ,IAGJ,yBAAKf,UAAU,YACb,2BAAOmE,GAAG,QAAQhE,MAAM,MAAMmE,OAAO,QACrC,4BAAQH,GAAG,SAAShE,MAAM,MAAMmE,OAAO,QAEvC,2BAAOL,KAAK,SAASjE,UAAU,uCAC7BqE,QAASR,KAAKjB,aAAcrB,MAAM,yB,GAvIVnB,aCWvBmE,MATf,WACE,OACE,6BACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QCLNC,IAASC,OAAO,kBAAC,EAAD,MAASzC,SAASC,eAAe,W","file":"static/js/main.cbca48ea.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 bg-primary text-white py-2\">\r\n            <img src=\"images.jpg\" alt=\"Streamer\" width=\"300\" className=\"float-left mx-1\" />\r\n            <h1>Streamers Pelotas</h1>\r\n            <h4>Registro de Streamers</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst Conecta = axios.create({baseURL: 'http://streamerspel.000webhostapp.com/'})\r\n\r\nexport default Conecta","import React, { Component } from 'react'\r\nimport Conecta from './Conecta'\r\n\r\nexport default class Registro extends Component {\r\n  state = {\r\n    nome: '',\r\n    link: '',\r\n    foto: '',\r\n    reg: '',\r\n    aviso: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initialState = this.state\r\n  }\r\n\r\n  limpar = () => {\r\n    this.setState(this.initialState)\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value })\r\n  }\r\n\r\n  habilitarCamera = async () => {\r\n    // Obtém acesso à câmera...\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n\r\n      await navigator.mediaDevices.getUserMedia({ video: true })\r\n        .then(function (mediaStream) {\r\n          var video = document.getElementById('video')\r\n          video.style.visibility = \"visible\"\r\n          video.srcObject = mediaStream;\r\n          video.onloadedmetadata = function (e) {\r\n            video.play();\r\n          };\r\n        })\r\n        .catch(function (err) { console.log(err.name + \": \" + err.message); });\r\n    }\r\n  }\r\n\r\n  capturarFoto = () => {\r\n    var canvas = document.getElementById('canvas')\r\n    var video = document.getElementById('video')\r\n\r\n    var context = canvas.getContext('2d')\r\n\r\n    context.drawImage(video, 0, 0, 320, 240)\r\n\r\n    video.pause()\r\n    video.style.visibility = \"hidden\"\r\n\r\n    this.setState({ foto: canvas.toDataURL(\"image/png\") })\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.nome === '' || this.state.link === '' || this.state.foto === '') {\r\n      this.setState({ aviso: 'Por favor, preencha nome, link da plataforma de stream e foto' })\r\n      this.tempoAviso()\r\n      return\r\n    }\r\n\r\n    const formData = new FormData()\r\n    formData.append('nome',this.state.nome)\r\n    formData.append('link',this.state.link)\r\n    formData.append('foto',this.state.foto)\r\n\r\n    const config = {\r\n        headers: {\r\n            'content-type': 'multipart/form-data'\r\n        }\r\n    }\r\n\r\n    try {\r\n      const reg = await Conecta.post('inc_streamer.php', formData, config)\r\n      this.limpar()\r\n      this.setState({reg});\r\n      this.setState({ aviso: `Ok! Streamer cadastrado com sucesso` })\r\n    } catch (erro) {\r\n      this.setState({ aviso: `Erro... Streamer não cadastrado: ${erro}` })\r\n    }\r\n\r\n    this.tempoAviso()\r\n  }\r\n\r\n  tempoAviso = (tempo = 3000) => {\r\n    setTimeout(() => {\r\n      this.setState({ aviso: '' })\r\n    }, tempo)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"mx-4 mt-3\" onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-6\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nome\">Nome do Streamer:</label>\r\n              <input type=\"text\" className=\"form-control\" autoFocus\r\n                name=\"nome\" id=\"nome\"\r\n                onChange={this.handleChange}\r\n                value={this.state.nome} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"link\">Link da plataforma de stream:</label>\r\n              <input type=\"text\" className=\"form-control\"\r\n                name=\"link\" id=\"link\"\r\n                onChange={this.handleChange}\r\n                value={this.state.link} />\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-4\">\r\n                <input type=\"reset\" className=\"btn btn-success btn-block mt-1\"\r\n                  onClick={this.habilitarCamera} value=\"Habilitar Câmera\" />\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <input type=\"reset\" className=\"btn btn-danger btn-block mt-1\"\r\n                  onClick={this.limpar} value=\"Limpar\" />\r\n              </div>\r\n              <div className=\"col-sm-4\">\r\n                <input type=\"submit\" className=\"btn btn-primary btn-block mt-1\"\r\n                  value=\"Gravar\" />\r\n              </div>\r\n            </div>\r\n            {this.state.aviso !== '' ?\r\n            <div className='alert alert-info mt-4'>\r\n              {this.state.aviso}\r\n            </div>\r\n            : ''\r\n          }\r\n          </div>\r\n          <div className=\"col-sm-6\">\r\n            <video id=\"video\" width=\"320\" height=\"240\"></video>\r\n            <canvas id=\"canvas\" width=\"320\" height=\"240\"></canvas>\r\n\r\n            <input type=\"button\" className=\"btn btn-danger float-right mt-3 px-5\"\r\n              onClick={this.capturarFoto} value=\"Capturar Foto\" />\r\n          </div>\r\n        </div>\r\n      </form >\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\n\nimport Header from './Header'\nimport Registro from './Registro'\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Registro />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}